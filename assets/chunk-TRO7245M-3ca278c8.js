import{e as _,j as o,h as A,b as x,G as w,f as E,g as F,o as R,c as O,J as P,n as H}from"./index-cca1a306.js";import{c as M}from"./chunk-6CVSDS6C-27502330.js";var[V,z]=_({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"});function B(r){var e;const a=r.split(" "),t=(e=a[0])!=null?e:"",s=a.length>1?a[a.length-1]:"";return t&&s?`${t.charAt(0)}${s.charAt(0)}`:t.charAt(0)}function C(r){const{name:e,getInitials:a,...t}=r,s=z();return o.jsx(A.div,{role:"img","aria-label":e,...t,__css:s.label,children:e?a==null?void 0:a(e):null})}C.displayName="AvatarName";var j=r=>o.jsxs(A.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...r,children:[o.jsx("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),o.jsx("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]});function G(r){const{loading:e,src:a,srcSet:t,onLoad:s,onError:u,crossOrigin:i,sizes:f,ignoreFallback:m}=r,[d,g]=x.useState("pending");x.useEffect(()=>{g(a?"loading":"pending")},[a]);const c=x.useRef(),h=x.useCallback(()=>{if(!a)return;l();const n=new Image;n.src=a,i&&(n.crossOrigin=i),t&&(n.srcset=t),f&&(n.sizes=f),e&&(n.loading=e),n.onload=v=>{l(),g("loaded"),s==null||s(v)},n.onerror=v=>{l(),g("failed"),u==null||u(v)},c.current=n},[a,i,t,f,s,u,e]),l=()=>{c.current&&(c.current.onload=null,c.current.onerror=null,c.current=null)};return w(()=>{if(!m)return d==="loading"&&h(),()=>{l()}},[d,h,m]),m?"loaded":d}function N(r){const{src:e,srcSet:a,onError:t,onLoad:s,getInitials:u,name:i,borderRadius:f,loading:m,iconLabel:d,icon:g=o.jsx(j,{}),ignoreFallback:c,referrerPolicy:h,crossOrigin:l}=r,v=G({src:e,onError:t,crossOrigin:l,ignoreFallback:c})==="loaded";return!e||!v?i?o.jsx(C,{className:"chakra-avatar__initials",getInitials:u,name:i}):x.cloneElement(g,{role:"img","aria-label":d}):o.jsx(A.img,{src:e,srcSet:a,alt:i,onLoad:s,referrerPolicy:h,crossOrigin:l??void 0,className:"chakra-avatar__img",loading:m,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:f}})}N.displayName="AvatarImage";var T={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},W=E((r,e)=>{const a=F("Avatar",r),[t,s]=x.useState(!1),{src:u,srcSet:i,name:f,showBorder:m,borderRadius:d="full",onError:g,onLoad:c,getInitials:h=B,icon:l=o.jsx(j,{}),iconLabel:n=" avatar",loading:v,children:b,borderColor:p,ignoreFallback:S,crossOrigin:L,referrerPolicy:k,...I}=R(r),y={borderRadius:d,borderWidth:m?"2px":void 0,...T,...a.container};return p&&(y.borderColor=p),o.jsx(A.span,{ref:e,...I,className:O("chakra-avatar",r.className),"data-loaded":P(t),__css:y,children:o.jsxs(V,{value:a,children:[o.jsx(N,{src:u,srcSet:i,loading:v,onLoad:H(c,()=>{s(!0)}),onError:g,getInitials:h,name:f,borderRadius:d,icon:l,iconLabel:n,ignoreFallback:S,crossOrigin:L,referrerPolicy:k}),b]})})});W.displayName="Avatar";var J=M({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"});export{W as A,J as a};

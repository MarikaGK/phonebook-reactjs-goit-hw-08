import{e as _,j as n,i as A,b as x,G as w,f as E,h as F,o as R,c as O,J as P,p as H}from"./index-8a9ffc54.js";import{c as M}from"./chunk-6CVSDS6C-369ae35a.js";var[V,z]=_({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"});function B(r){var e;const a=r.split(" "),t=(e=a[0])!=null?e:"",s=a.length>1?a[a.length-1]:"";return t&&s?`${t.charAt(0)}${s.charAt(0)}`:t.charAt(0)}function C(r){const{name:e,getInitials:a,...t}=r,s=z();return n.jsx(A.div,{role:"img","aria-label":e,...t,__css:s.label,children:e?a==null?void 0:a(e):null})}C.displayName="AvatarName";var j=r=>n.jsxs(A.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...r,children:[n.jsx("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),n.jsx("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]});function G(r){const{loading:e,src:a,srcSet:t,onLoad:s,onError:u,crossOrigin:l,sizes:f,ignoreFallback:m}=r,[d,v]=x.useState("pending");x.useEffect(()=>{v(a?"loading":"pending")},[a]);const c=x.useRef(),h=x.useCallback(()=>{if(!a)return;i();const o=new Image;o.src=a,l&&(o.crossOrigin=l),t&&(o.srcset=t),f&&(o.sizes=f),e&&(o.loading=e),o.onload=g=>{i(),v("loaded"),s==null||s(g)},o.onerror=g=>{i(),v("failed"),u==null||u(g)},c.current=o},[a,l,t,f,s,u,e]),i=()=>{c.current&&(c.current.onload=null,c.current.onerror=null,c.current=null)};return w(()=>{if(!m)return d==="loading"&&h(),()=>{i()}},[d,h,m]),m?"loaded":d}function N(r){const{src:e,srcSet:a,onError:t,onLoad:s,getInitials:u,name:l,borderRadius:f,loading:m,iconLabel:d,icon:v=n.jsx(j,{}),ignoreFallback:c,referrerPolicy:h,crossOrigin:i}=r,g=G({src:e,onError:t,crossOrigin:i,ignoreFallback:c})==="loaded";return!e||!g?l?n.jsx(C,{className:"chakra-avatar__initials",getInitials:u,name:l}):x.cloneElement(v,{role:"img","aria-label":d}):n.jsx(A.img,{src:e,srcSet:a,alt:l,onLoad:s,referrerPolicy:h,crossOrigin:i??void 0,className:"chakra-avatar__img",loading:m,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:f}})}N.displayName="AvatarImage";var T={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},W=E((r,e)=>{const a=F("Avatar",r),[t,s]=x.useState(!1),{src:u,srcSet:l,name:f,showBorder:m,borderRadius:d="full",onError:v,onLoad:c,getInitials:h=B,icon:i=n.jsx(j,{}),iconLabel:o=" avatar",loading:g,children:p,borderColor:b,ignoreFallback:S,crossOrigin:L,referrerPolicy:k,...I}=R(r),y={borderRadius:d,borderWidth:m?"2px":void 0,...T,...a.container};return b&&(y.borderColor=b),n.jsx(A.span,{ref:e,...I,className:O("chakra-avatar",r.className),"data-loaded":P(t),__css:y,children:n.jsxs(V,{value:a,children:[n.jsx(N,{src:u,srcSet:l,loading:g,onLoad:H(c,()=>{s(!0)}),onError:v,getInitials:h,name:f,borderRadius:d,icon:i,iconLabel:o,ignoreFallback:S,crossOrigin:L,referrerPolicy:k}),p]})})});W.displayName="Avatar";var J=M({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"});export{W as A,J as a};
